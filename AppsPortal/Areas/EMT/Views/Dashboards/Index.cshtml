@model EMTReportParametersList
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Layouts/_SiteLayout.cshtml";
}
@Html.PageHeader("49c97be9-8546-4a52-b4ba-d61f6943c552")

<div class="page--content">
    @*<link href="~/Assets/Plugin/Highcharts-6.1.2/code/css/highcharts.css" rel="stylesheet" />
        <script src="~/Assets/Plugin/Highcharts-6.1.2/code/js/highcharts.js"></script>
        <script src="~/Assets/Plugin/Highcharts-6.1.2/code/js/modules/data.js"></script>
        <script src="~/Assets/Plugin/Highcharts-6.1.2/code/js/modules/drilldown.js"></script>
        <script src="~/Assets/Plugin/Highcharts-6.1.2/code/js/modules/heatmap.js"></script>*@

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/offline-exporting.js"></script>
    @using (Html.BeginForm("Chart", "Reports", new { Area = "EMT" }, FormMethod.Post, new { id = "ReportForm" }))
    {
        <br />
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading" style="height:35px">
                        <h3 class="panel-title" style="color:black;"><b>Filters</b> </h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <div class="form-group">
                                    @Html.Label(resxPages.ReportTopic)
                                    @Html.DropDownListFor(model => model.Report, new DropDownList().MedicalReportTopic(), "", new
                               {
                                   style = "width:100%",
                                   @class = "form-control select2-basic-search",
                                   onchange = "HideShowFilters();UpdateDropDownListFromMultiple([$('#OrganizationInstanceGUID').val()+'|'+$(this).val()+'|D'], [{ DropDownListID : 'MedicalPharmacyGUID', Action : 'RemotePharmacyByOrganizationInstance'}]);",

                               })
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">
                                    @Html.Label(resxDbFields.StartDate)
                                    @Html.EditorFor(model => model.StartDate, new { htmlAttributes = new { @class = "form-control", autocomplete = "off" } })
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">
                                    @Html.Label(resxDbFields.EndDate)
                                    @Html.EditorFor(model => model.EndDate, new { htmlAttributes = new { @class = "form-control", autocomplete = "off" } })
                                </div>
                            </div>
                            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-12">
                                <div class="form-group">


                                    @Html.Label(resxDbFields.IncludeZero)

                                    @Html.CheckBoxFor(model => model.IncludeZero, new { htmlAttributes = new { @class = "form-control", autocomplete = "off" } })
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12" style="display: flex;margin-top: 25px;">
                                <input id="btnCharts" type="button" name="btnCharts" class="btn btn-primary ActionControl" style="width:50%" onclick="InitDashboards();" value="@resxPages.GenerateReport">
                                <input type="reset" class="btn btn-default" style="width:50%" value="@resxPages.clearAll" onclick="ClearAll();">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">

                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:35px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#OrganizationInstanceGUID').val([]); $('#OrganizationInstanceGUID').trigger('change');">Clear</a>
                                            </span>
                                            <h3 class="panel-title" style="margin-left: -10px;"><b>@Html.Label(resxDbFields.Partner)</b> </h3>
                                        </div>

                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">



                                                @Html.ListBoxFor(model => model.OrganizationInstanceGUID, new DropDownList().OrganizationsInstancesPharmacyAcronymByProfileAll(), new
                                           {
                                               style = "width:100%;height:200px;font-size:15px;",
                                               @class = "form-control list--box",
                                               onchange = "UpdateDropDownListFromMultiple([$(this).val()+'|'+$('#Report').val()+'|D'], [{ DropDownListID : 'MedicalPharmacyGUID', Action : 'RemotePharmacyByOrganizationInstance'}]);"
                                           })
                                            </div>
                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#OrganizationInstanceGUID option').prop('selected', true); $('#OrganizationInstanceGUID').trigger('change');">Select All</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 " style="">
                                <div class="form-group">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:35px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#MedicalPharmacyGUID').val([]); $('#MedicalPharmacyGUID').trigger('change');">Clear</a>
                                            </span>
                                            <h3 class="panel-title" style="margin-left: -10px;"><b>@Html.LabelFor(model => model.MedicalPharmacyGUID)</b> </h3>
                                        </div>
                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">
                                                @Html.ListBoxFor(model => model.MedicalPharmacyGUID, new DropDownList().Empty(), new
                                                {
                                                    style = "width:100%;height:200px;font-size:15px;",
                                                    @class = "form-control list--box",
                                                    onchange = "FindPerent('MedicalPharmacyGUID','OrganizationInstanceGUID',0);"
                                                })
                                            </div>

                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#MedicalPharmacyGUID option').prop('selected', true); $('#MedicalPharmacyGUID').trigger('change');FindPerent('MedicalPharmacyGUID','OrganizationInstanceGUID',0);">Select All</a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">

                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:35px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#MedicalPharmacologicalFormGUID').val([]); $('#MedicalPharmacologicalFormGUID').trigger('change');">Clear</a>
                                            </span>
                                            <h3 class="panel-title" style="margin-left: -10px;"><b>@Html.LabelFor(model => model.MedicalPharmacologicalFormGUID)</b> </h3>
                                        </div>

                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">
                                                @Html.ListBoxFor(model => model.MedicalPharmacologicalFormGUID, new DropDownList().LookupValues(LookupTables.MedicalPharmacologicalForm), new
                                           {
                                               style = "width:100%;height:200px;font-size:15px;",
                                               @class = "form-control list--box",
                                               onchange = "UpdateDropDownListFromMultiple([$('#MedicalPharmacologicalFormGUID').val()+'|'+$('#MedicalTreatmentGUID').val()+'|'+$('#MedicalGenericNameGUID').val()], [{ DropDownListID : 'Sequance', Action : 'RemoteItemsByTreatmentByPharmacologicalForm'}]);"
                                           })
                                            </div>
                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#MedicalPharmacologicalFormGUID option').prop('selected', true); $('#MedicalPharmacologicalFormGUID').trigger('change');">Select All</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">

                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:35px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#MedicalTreatmentGUID').val([]); $('#MedicalTreatmentGUID').trigger('change');">Clear</a>
                                            </span>
                                            <h3 class="panel-title" style="margin-left: -10px;"><b>@Html.LabelFor(model => model.MedicalTreatmentGUID)</b> </h3>
                                        </div>

                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">
                                                @Html.ListBoxFor(model => model.MedicalTreatmentGUID, new DropDownList().LookupValues(LookupTables.MedicalTreatment), new
                                           {
                                               style = "width:100%;height:200px;font-size:15px;",
                                               @class = "form-control list--box",
                                               onchange = "UpdateDropDownListFromMultiple([$('#MedicalPharmacologicalFormGUID').val()+'|'+$('#MedicalTreatmentGUID').val()+'|'+$('#MedicalGenericNameGUID').val()], [{ DropDownListID : 'Sequance', Action : 'RemoteItemsByTreatmentByPharmacologicalForm'}]);"
                                           })
                                            </div>
                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#MedicalTreatmentGUID option').prop('selected', true); $('#MedicalTreatmentGUID').trigger('change');">Select All</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">

                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:35px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#MedicalGenericNameGUID').val([]); $('#MedicalGenericNameGUID').trigger('change');">Clear</a>
                                            </span>
                                            <h3 class="panel-title" style="margin-left: -10px;"><b>@Html.LabelFor(model => model.MedicalGenericNameGUID)</b> </h3>
                                        </div>

                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">
                                                @Html.ListBoxFor(model => model.MedicalGenericNameGUID, new DropDownList().MedicalGenericName(), new
                                           {
                                               style = "width:100%;height:200px;font-size:15px;",
                                               @class = "form-control list--box",
                                               onchange = "UpdateDropDownListFromMultiple([$('#MedicalPharmacologicalFormGUID').val()+'|'+$('#MedicalTreatmentGUID').val()+'|'+$('#MedicalGenericNameGUID').val()], [{ DropDownListID : 'Sequance', Action : 'RemoteItemsByTreatmentByPharmacologicalForm'}]);"
                                           })
                                            </div>
                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#MedicalGenericNameGUID option').prop('selected', true); $('#MedicalGenericNameGUID').trigger('change');">Select All</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                                <div class="form-group">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading" style="height:50px">
                                            <span class="pull-right" style="margin-top: -8px;margin-right: -17px;">
                                                <a style="font-size:9px;padding-bottom: 0px;margin-bottom: -3px;color:white" class="btn  pull-right" onclick="$('#Sequance').val([]); $('#Sequance').trigger('change');">Clear</a>
                                            </span>
                                            @*<h3 class="panel-title" style="margin-left: -10px;"><b>@Html.LabelFor(model => model.Sequance)</b> </h3>*@
                                            <input class="form-control" id="txtMedicalItemSearch" type="text" placeholder="Brand Name" style="width:80%;" autocomplete="off"
                                                   onchange="UpdateDropDownList([$(this).val()], [{ DropDownListID : 'Sequance', Action : 'RemoteFindMedicalItemsBy'}]);" />
                                        </div>
                                        <div class="panel-body" style="padding-top: 0px;height:200px">
                                            <div class="row">
                                                @Html.ListBoxFor(model => model.Sequance, new DropDownList().Empty(), new
                                           {
                                               style = "width:100%;height:200px;font-size:15px;",
                                               @class = "form-control list--box",
                                               onchange = "FindPerentMultiple('Sequance','MedicalPharmacologicalFormGUID,MedicalTreatmentGUID,MedicalGenericNameGUID');"
                                           })
                                            </div>

                                        </div>
                                        <div class="panel-footer" style="height: 26px;padding-top: 1px;">
                                            <a onclick="$('#Sequance option').prop('selected', true); $('#Sequance').trigger('change');FindPerent('Sequance','MedicalPharmacologicalFormGUID',0);FindPerent('Sequance','MedicalTreatmentGUID',0);FindPerent('Sequance','MedicalGenericNameGUID',0);">Select All</a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="display:none" id="ChartPanel">
                <div id="exTab1">
                    <ul class="nav nav-pills">
                        <li>
                            <a href="#6a" data-toggle="tab">@resxPages.DashboardSummary</a>
                        </li>
                        <li>
                            <a href="#1a" data-toggle="tab">@resxPages.DispensingMedicinesToPOC</a>
                        </li>
                        <li>
                            <a href="#2a" data-toggle="tab">@resxPages.CostOfDispensingMedicines</a>
                        </li>
                        <li>
                            <a href="#3a" data-toggle="tab">@resxPages.PrescriptionsDispensed</a>
                        </li>
                        <li>
                            <a href="#4a" data-toggle="tab">@resxPages.DispatchedMedicinesToWarehouses</a>
                        </li>
                        <li>
                            <a href="#5a" data-toggle="tab">@resxPages.TransferredMedicinesToPharmacies</a>
                        </li>

                    </ul>
                </div>
                <div class="tab-content clearfix">
                    <div class="tab-pane active table-bordered" id="1a">

                        <br />
                        <div class="row">
                            <div class="col-lg-4" style="border-right:10px">
                                <div id="Tab1Container12" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                            <div class="col-lg-8 " style="border-right:10px">
                                <div id="Tab1Container15" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>

                        </div>

                        <br />
                        <hr />

                        <div class="row">
                            <div class="col-lg-3" style="border-right:10px">
                                <div id="Tab1Container4" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>

                            </div>
                            <div class="col-lg-9">
                                <div id="Tab1Container5" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container6" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container7" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container8" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container9" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12 " style="border-right:10px">
                                <div id="Tab1Container1" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="2a">
                        <br />
                        <div class="row">
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container10" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                            <div class="col-lg-6 " style="border-right:10px">
                                <div id="Tab1Container11" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>

                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12 " style="border-right:10px">
                                <div id="Tab1Container16" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="tab-pane" id="3a">
                        <br />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab1Container2" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div id="Tab1Container3" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-8" style="border-right:10px">
                                <div id="Tab1Container13" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                            <div class="col-lg-4 " style="border-right:10px">
                                <div id="Tab1Container14" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12 " style="border-right:10px">
                                <div id="Tab1Container17" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="tab-pane" id="4a">
                        <br />
                        <div class="row">
                            <div class="col-lg-12" style="border-right:10px">
                                <div id="Tab2Container1" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab2Container2" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div id="Tab2Container3" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab2Container4" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div id="Tab2Container5" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab2Container6" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div id="Tab2Container7" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="5a">
                        <br />
                        <div class="row">
                            <div class="col-lg-12" style="border-right:10px">
                                <div id="Tab3Container1" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>

                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="Tab3Container2" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="tab-pane" id="6a">
                        <br />
                        <div class="row">
                            <div class="col-lg-4" style="border-right:10px">
                                <div id="Tab4Container1" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container2" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container3" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-4" style="border-right:10px">
                                <div id="Tab4Container4" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container5" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container6" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-4" style="border-right:10px">
                                <div id="Tab4Container7" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container8" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="Tab4Container9" style="height:350px; width:100%; margin: 0 auto;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12" style="border-right:10px">
                                <div id="Tab4Container15" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">

                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-12" style="border-right:10px">
                                <div id="Tab4Container10" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>

                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab4Container11" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab4Container12" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                        <br />
                        <hr />
                        <div class="row">
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab4Container13" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                            <div class="col-lg-6" style="border-right:10px">
                                <div id="Tab4Container14" style="height:350px; width:100%;padding-right:10px;border:solid;border-color: #e6dfdf;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<script>

            $(document).ready(function () {
                //InitDashboards();
                UpdateDropDownList([""], [{ DropDownListID: 'MedicalPharmacyGUID', Action: 'RemoteMedicalPharmacyGrorp' }]);
                UpdateDropDownList([""], [{ DropDownListID: 'Sequance', Action: 'RemoteMedicalItemGrorp' }]);
            });
            //Autocompete Search Per UNHCR ID
            $('#MedicalBeneficiaryGUID').select2({
                minimumInputLength: 2,
                ajax: {
                    url: function () {
                        return '/DropDownList/RemoteFindBeneficiaryBy'
                    },
                    delay: 250,
                    data: function (params) {
                        var query = {
                            SearchKey: params.term
                        }
                        // Query parameters will be ?search=[term]&type=public
                        return query;
                    },
                    processResults: function (data) {
                        var res = data.items.map(function (item) {
                            return { id: item.id, text: item.Text };
                        });
                        return {
                            results: res
                        };
                    }
                }
            });

            function NoSelectionSelectAll() {
                if ($('#OrganizationInstanceGUID > option:selected').length == 0) {
                    $('#OrganizationInstanceGUID option').prop('selected', true);
                   // $('#OrganizationInstanceGUID option:first').prop('selected', false);
                }
                if ($('#MedicalPharmacyGUID > option:selected').length == 0) {
                    $('#MedicalPharmacyGUID option').prop('selected', true);
                    $('#MedicalPharmacyGUID option:first').prop('selected', false);
                }
                if ($('#MedicalPharmacologicalFormGUID > option:selected').length == 0) {
                    $('#MedicalPharmacologicalFormGUID option').prop('selected', true);
                }
                if ($('#MedicalTreatmentGUID > option:selected').length == 0) {
                    $('#MedicalTreatmentGUID option').prop('selected', true);
                }
                if ($('#MedicalGenericNameGUID > option:selected').length == 0) {
                    $('#MedicalGenericNameGUID option').prop('selected', true);
                }
                if ($('#Sequance > option:selected').length == 0) {
                    $('#Sequance option').prop('selected', true);
                    $('#Sequance option:first').prop('selected', false);
                }

                formDataCashed = $('#ReportForm').serialize();
            }

            var Process = '<center><img src="../Assets/Images/loading.gif" style="top: 50%;position: absolute;" /></center>'
            var totalChartNumber = 0;
            var numberOfChartCompletet = 0;

            var activeTab = '';
            function HideShowFilters() {
                var IntReport = $("#Report").val();
                $("#ChartPanel").hide();
                $('.nav-pills a[href="#1a"]').prop('disabled', true);
                $('.nav-pills a[href="#2a"]').prop('disabled', true);
                $('.nav-pills a[href="#3a"]').prop('disabled', true);
                $('.nav-pills a[href="#4a"]').prop('disabled', true);
                $('.nav-pills a[href="#5a"]').prop('disabled', true);
                if (IntReport == '1') {
                    $("#MedicalBeneficiaryGUID").prop('disabled', true);
                    $("#MedicalBeneficiaryGUID").text('');

                }
                if (IntReport == '2') {
                    $("#MedicalBeneficiaryGUID").prop('disabled', true);
                    $("#MedicalBeneficiaryGUID").text('');
                }
                if (IntReport == '3') {
                    $("#MedicalBeneficiaryGUID").prop('disabled', false);
                    $("#MedicalBeneficiaryGUID").text('');
                }
                if (IntReport == '4') {
                    $("#MedicalBeneficiaryGUID").prop('disabled', true);
                    $("#MedicalBeneficiaryGUID").text('');
                }
            }

            function DecideWhenLoadComplete() {
                numberOfChartCompletet++;
                if (numberOfChartCompletet == totalChartNumber) {
                    $('#btnCharts').prop('disabled', false);
                    $('#ChartsLoad').html('');

                }
            }

            function ClearAll() {
                $("#MedicalBeneficiaryGUID").text('');
                $('#Report li:first-child').attr("selected", "selected");
            }

            function FindPerent(FromList, Tragetlist, SplitSeq) {
                // $('#' + Tragetlist + ' option[value="' + GroupVal + '"]').show().fadeOut(100).fadeIn(100);
                var selected = $('#' + FromList).find('option:selected', this);
                var results = [];

                selected.each(function () {
                    results.push($(this).data('group'));
                });

                $('#' + Tragetlist).val([]);
                $('#' + Tragetlist).val(results);
            }

    function FindPerentMultiple(FromList, Tragetlist) {
        debugger;
        // $('#' + Tragetlist + ' option[value="' + GroupVal + '"]').show().fadeOut(100).fadeIn(100);
        var selected = $('#' + FromList).find('option:selected', this);
        var results0 = [];
        var results1 = [];
        var results2 = [];

        selected.each(function () {
            var array = $(this).data('group').split(',');
            results0.push(array[0]);
            results1.push(array[1]);
            results2.push(array[2]);

        });

        var array1 = Tragetlist.split(',');
        array1.forEach(function (element, index) {
            if (index == 0) {
                $('#' + element).val([]);
                $('#' + element).val(results0);
            }
            if (index == 1) {
                $('#' + element).val([]);
                $('#' + element).val(results1);
            }
            if (index == 2) {
                $('#' + element).val([]);
                $('#' + element).val(results2);
            }
        });
        return true;
    }

            function GetTodayDate() {
                const monthNames = ["January", "February", "March", "April", "May", "June",
                    "July", "August", "September", "October", "November", "December"
                ];

                var tdate = new Date();
                var dd = tdate.getDate(); //yields day
                var MM = monthNames[tdate.getMonth()]; //yields month
                var yyyy = tdate.getFullYear(); //yields year
                var currentDate = MM + " " + dd + ", " + yyyy;

                return currentDate;
            }

            function GetStartOfYearDate() {
                var tdate = new Date();
                var dd = 1; //yields day
                var MM = "January"; //yields month
                var yyyy = tdate.getFullYear(); //yields year
                var currentDate = MM + " " + dd + ", " + yyyy;

                return currentDate;
            }

            var formDataCashed = $('#ReportForm').serialize();
            function InitDashboards() {
                if ($("#StartDate").val() == "") { $("#StartDate").val(GetStartOfYearDate()); }
                if ($("#EndDate").val() == "") { $("#EndDate").val(GetTodayDate()); }
                var IntReport = $("#Report").val();
                if (IntReport == "") {
                    IntReport = 6;
                }
                totalChartNumber = 0;

                $('#ChartsLoad').append('<span class="loadingSpan" style="margin-left:4px;margin-top:2px;"> Please wait...</span>');
                $('#ChartPanel').show();
                $('html,body').animate({
                    scrollTop: $("#ChartPanel").offset().top + 370
                }, 'slow');
                numberOfChartCompletet = 0;
                Highcharts.setOptions({
                    lang: {
                        thousandsSep: ','
                    }
                });

                NoSelectionSelectAll();

                //Items Distributed
                if (IntReport == '1') {
                    totalChartNumber = 9;
                    $('.nav-pills a[href="#1a"]').prop('disabled', false);
                    $('.nav-pills a[href="#1a"]').tab('show');
                    //Add the Proccessing IMG
                    $('#Tab1Container1').html('').append(Process);
                    $('#Tab1Container4').html('').append(Process);
                    $('#Tab1Container5').html('').append(Process);
                    $('#Tab1Container6').html('').append(Process);
                    $('#Tab1Container7').html('').append(Process);
                    $('#Tab1Container8').html('').append(Process);
                    $('#Tab1Container9').html('').append(Process);
                    $('#Tab1Container12').html('').append(Process);
                    $('#Tab1Container15').html('').append(Process);
                    //Call the Methods
                    Excuted2 = false;
                    Excuted3 = false;
                    KillSessions();
                    GetConsumptionMedicine();
                    GetTransferMedicine();
                    var Interval = setInterval(function () {
                        if (Excuted2) {
                            clearInterval(Interval);
                            //Call the Methods
                            ConsumptionMedicines();
                            ConsumptionMedicinesByBeneficiariesType();
                            ConsumptionMedicinesByBeneficiariesTypeHeatMap();
                            ConsumptionMedicinesByRouteAdministration();
                            ConsumptionMedicinesByClassification();
                            ConsumptionMedicinesByPharmacy();
                            ConsumptionMedicinesByGender();
                            ConsumptionMedicinesOverTotalItems("Tab1Container12");
                            ConsumptionMedicinesByAgeGroup();
                        }
                    }, 5000);

                }
                if (IntReport == '2') {
                    totalChartNumber = 3;
                    $('.nav-pills a[href="#2a"]').prop('disabled', false);
                    $('.nav-pills a[href="#2a"]').tab('show');
                    //Add the Proccessing IMG

                    $('#Tab1Container10').html('').append(Process);
                    $('#Tab1Container11').html('').append(Process);
                    $('#Tab1Container16').html('').append(Process);

                    //Call the Methods
                    Excuted2 = false;
                    KillSessions();
                    GetConsumptionMedicine();
                    var Interval = setInterval(function () {
                        if (Excuted2) {
                            clearInterval(Interval);
                            ConsumptionMedicinesCostByPharmacy();
                            ConsumptionMedicinesCostByPartner();
                            ConsumptionMedicinesCostPerMonths();
                        }
                    }, 5000);

                }
                if (IntReport == '3') {
                    totalChartNumber = 5;
                    $('.nav-pills a[href="#3a"]').prop('disabled', false);
                    $('.nav-pills a[href="#3a"]').tab('show');
                    //Add the Proccessing IMG
                    $('#Tab1Container2').html('').append(Process);
                    $('#Tab1Container3').html('').append(Process);
                    $('#Tab1Container13').html('').append(Process);
                    $('#Tab1Container14').html('').append(Process);
                    $('#Tab1Container17').html('').append(Process);

                    //Call the Methods
                    Excuted1 = false;
                    KillSessions();
                    GetPrescriptionsDispensed();
                    var Interval = setInterval(function () {
                        if (Excuted1) {
                            clearInterval(Interval);
                            NumberOfPrescriptionsDispensedByPharmacy();
                            NumberOfPrescriptionsDispensedByOrganizationsInstances();
                            NumberOfPrescriptionsDispensedByBeneficiaryType();
                            NumberOfPrescriptionsDispensedPerMonths();
                            NumberOfPrescriptionsDiseaseTypePerMonths();
                        }
                    }, 5000);
                }
                if (IntReport == '4') {
                    totalChartNumber = 6;
                    $('.nav-pills a[href="#4a"]').prop('disabled', false);
                    $('.nav-pills a[href="#4a"]').tab('show');
                    //Add the Proccessing IMG
                    $('#Tab2Container1').html('').append(Process);
                    $('#Tab2Container2').html('').append(Process);
                    $('#Tab2Container3').html('').append(Process);
                    $('#Tab2Container4').html('').append(Process);
                    $('#Tab2Container5').html('').append(Process);
                    $('#Tab2Container6').html('').append(Process);
                    $('#Tab2Container7').html('').append(Process);
                    //Call the Methods
                    //Call the Methods
                    Excuted4 = false;
                    KillSessions();

                    GetDispatchedMedicine();
                    var Interval = setInterval(function () {
                        if (Excuted4) {
                            clearInterval(Interval);
                            DispatchedMedicines();
                            DispatchedMedicinesByRouteAdministration();
                            DispatchedMedicinesByPharmacologicalForm();
                            DispatchedMedicinesByPharmacy();
                            DispatchedMedicinesCostByPharmacy();
                            DispatchedMedicinesByPartner();
                            DispatchedMedicinesCostByPartner();
                        }
                    }, 5000);
                }
                if (IntReport == '5') {
                    totalChartNumber = 2;
                    $('.nav-pills a[href="#5a"]').prop('disabled', false);
                    $('.nav-pills a[href="#5a"]').tab('show');
                    //Add the Proccessing IMG
                    $('#Tab3Container1').html('').append(Process);
                    $('#Tab3Container2').html('').append(Process);
                    //Call the Methods
                    Excuted3 = false;
                    KillSessions();
                    GetTransferMedicine();
                    var Interval = setInterval(function () {
                        if (Excuted3) {
                            clearInterval(Interval);
                            TransferMedicinesByPharmacy();
                            TransferMedicinesRemainingItemsByPharmacy();
                        }
                    }, 5000);

                }
                if (IntReport == '6') {
                    totalChartNumber = 13;
                    $('.nav-pills a[href="#6a"]').prop('disabled', false);
                    $('.nav-pills a[href="#6a"]').tab('show');
                    //Add the Proccessing IMG
                    $('#Tab4Container1').html('').append(Process);
                    $('#Tab4Container2').html('').append(Process);
                    $('#Tab4Container3').html('').append(Process);
                    $('#Tab4Container4').html('').append(Process);
                    $('#Tab4Container5').html('').append(Process);
                    $('#Tab4Container6').html('').append(Process);
                    $('#Tab4Container7').html('').append(Process);
                    $('#Tab4Container8').html('').append(Process);
                    $('#Tab4Container9').html('').append(Process);
                    $('#Tab4Container10').html('').append(Process);
                    $('#Tab4Container11').html('').append(Process);
                    $('#Tab4Container12').html('').append(Process);
                    $('#Tab4Container13').html('').append(Process);
                    $('#Tab4Container14').html('').append(Process);
                    $('#Tab4Container15').html('').append(Process);
                    //Call the Methods
                    Excuted1 = false;
                    Excuted2 = false;
                    Excuted3 = false;
                    KillSessions();
                    GetPrescriptionsDispensed();
                    GetConsumptionMedicine();
                    GetTransferMedicine();
                    var Interval = setInterval(function () {
                        if (Excuted1 && Excuted2 && Excuted3) {
                            clearInterval(Interval);
                            TotalNumberOfBeneficiaries();
                            ConsumptionMedicinesOverTotalItems("Tab4Container9");
                            TotalNumberOfBeneficiariesByGenderPercentage();
                            TotalNumberOfBeneficiariesByNationalityPercentage();
                            TotalNumberOfBeneficiariesByAgeGroupPercentage();
                            TotalNumberOfBeneficiariesByDiseasePercentage();
                            TotalNumberOfBeneficiariesByPartnerPercentage();
                            TotalNumberOfBeneficiariesByPharmacyPercentage();
                            BeneficiariesGroupByPrescriptionIterationPercentage();
                            ConsumptionMedicinesCostPerMonths2();
                            ConsumptionByCategoriesOfMedicines();
                            ConsumptionByCostOfMedicines();
                            ExpirationDateByPartner();
                            StagnantItemsByPartner();
                            TotalNumberOfBeneficiaryGroupByAge();
                        }
                    }, 5000);
                }
                $('#btnCharts').prop('disabled', true);

            };

            var Excuted1 = false;
            var Excuted2 = false;
            var Excuted3 = false;
            var Excuted4 = false;
            function GetPrescriptionsDispensed() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/GetPrescriptionsDispensed",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        Excuted1=response["Result"];
                    },
                    error: function (errorStatus) {
                        //DecideWhenLoadComplete();
                    }
                });
            };
            function GetConsumptionMedicine() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/GetConsumptionMedicine",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        Excuted2 = response["Result"];
                    },
                    error: function (errorStatus) {
                        //DecideWhenLoadComplete();
                    }
                });
            };
            function GetTransferMedicine() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/GetTransferMedicine",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        Excuted3 = response["Result"];
                    },
                    error: function (errorStatus) {
                        //DecideWhenLoadComplete();
                    }
                });
            };
            function GetDispatchedMedicine(handleData) {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/GetDispatchedMedicine",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        Excuted4 = response["Result"];
                    },
                    error: function (errorStatus) {
                        //DecideWhenLoadComplete();
                    }
                });

            };
            function KillSessions() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/KillSessions",
                    dataType: "json",
                    data: formData,
                    async: false,
                    success: function (response) {
                        //DecideWhenLoadComplete();
                        var Result = response["Result"];
                        return Result;

                    },
                    error: function (errorStatus) {
                        //DecideWhenLoadComplete();
                    }
                });
                return true;
            };
            ///Items Distributed

            function ConsumptionMedicines() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicines",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container1').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container1', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption" : "استهلاك الأدوية")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Items'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Items</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByBeneficiariesType() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByBeneficiariesType",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container4').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container4', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Beneficiaries Type" : "استهلاك الأدوية حسب نوع المستفيدين")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Items'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Items</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByBeneficiariesTypeHeatMap() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByBeneficiariesTypeHeatMap",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categoriesX = response["categoriesX"];
                        var categoriesY = response["categoriesY"];

                        $('#Tab1Container5').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container5', {

                            chart: {
                                type: 'heatmap',
                                marginTop: 40,
                                marginBottom: 80,
                                plotBorderWidth: 1
                            },


                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption  Per Beneficiaries Type and Brand Name" : "استهلاك الأدوية حسب نوع المستفيدين والعلامة التجارية")'
                            },

                            xAxis: {
                                categories: categoriesX
                            },

                            yAxis: {
                                categories: categoriesY,
                                title: null
                            },

                            colorAxis: {
                                min: 0,
                                minColor: '#FFFFFF',
                                maxColor: '#007ef7'
                            },

                            legend: {
                                align: 'right',
                                layout: 'vertical',
                                margin: 0,
                                verticalAlign: 'top',
                                y: 25,
                                symbolHeight: 280
                            },

                            tooltip: {
                                formatter: function () {
                                    return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> sold <br><b>' +
                                        this.point.value + '</b> items on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';
                                }
                            },

                            series: [{
                                name: 'Sales per employee',
                                borderWidth: 1,
                                data: Result,
                                dataLabels: {
                                    enabled: true,
                                    color: '#000000'
                                }
                            }]

                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByRouteAdministration() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByRouteAdministration",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container6').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container6', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Route Administration" : "استهلاك الأدوية لكل مسار إدارة")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //  headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByClassification() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByClassification",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container7').removeClass('loadingSpanChart');


                        Highcharts.chart('Tab1Container7', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption  Per Classification" : "استهلاك الأدوية حسب التصنيف")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container8').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container8', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Pharmacy" : "استهلاك الأدوية لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                /// headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByGender() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByGender",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container9').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container9', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Gender" : "استهلاك الأدوية حسب الجنس")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesOverTotalItems(Container) {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesOverTotalItems",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#' + Container).removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart(Container, {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Target Achievement" : "تحقيق الهدف")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesByAgeGroup() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesByAgeGroup",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];

                        $('#Tab1Container15').removeClass('loadingSpanChart');

                        var ageData = Result;

                        var ranges = [5, 18, 60, 100],
                            rangesLen = ranges.length,
                            series = [];

                        $.each(ranges, function (i, e) {
                            series.push({
                                id: e + 'index',
                                name: e
                            });
                        });

                        $.each(ageData, function (i, e) {
                            var x = e[0],
                                y = e[1],
                                index = 0;

                            while (ranges[index] < x) {
                                index++;
                            }
                            series.push({
                                showInLegend: false,
                                linkedTo: ranges[index] + 'index',
                                data: [[index, y]]
                            })

                        });


                        $('#Tab1Container15').highcharts({
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Age Groups" : "استهلاك الأدوية حسب الفئات العمرية")'
                            },
                            xAxis: {
                                categories: [
                                    '0-5',
                                    '5-17',
                                    '18-59',
                                    '60-100']
                            },
                            legend: {
                                enabled: false
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Items'
                                },
                                stackLabels: {
                                    enabled: true,
                                    style: {
                                        fontWeight: 'bold',
                                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                    }
                                }
                            },
                            plotOptions: {
                                column: {
                                    stacking: 'normal',
                                    grouping: false,
                                    dataLabels: {
                                        enabled: false,
                                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                                        style: {
                                            textShadow: 'black'
                                        }
                                    }
                                }
                            },
                            series: series
                        });
                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };


            function ConsumptionMedicinesCostByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesCostByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container10').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container10', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Cost Per Pharmacy" : "تكلفة استهلاك الأدوية لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Cost'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesCostByPartner() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesCostByPartner",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab1Container11').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container11', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Cost Per Partner" : "تكلفة استهلاك الأدوية لكل شريك")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Cost'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesCostPerMonths() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesCostPerMonths",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container16').removeClass('loadingSpanChart');



                        Highcharts.chart('Tab1Container16', {
                            chart: {
                                type: 'area'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Cost Per Month" : "تكلفة استهلاك الأدوية في الشهر")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                categories: categories,
                                tickmarkPlacement: 'on',
                                title: {
                                    enabled: false
                                }
                            },
                            yAxis: {
                                title: {
                                    text: ''
                                },
                                labels: {
                                    formatter: function () {
                                        return this.value;
                                    }
                                }
                            },
                            tooltip: {
                                split: true,
                                valueSuffix: ''
                            },
                            plotOptions: {
                                area: {
                                    stacking: 'normal',
                                    lineColor: '#666666',
                                    lineWidth: 1,
                                    marker: {
                                        lineWidth: 1,
                                        lineColor: '#666666'
                                    }
                                }
                            },
                            series: Result
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };

            function NumberOfPrescriptionsDispensedByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/NumberOfPrescriptionsDispensedByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container2').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container2', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Prescriptions Dispensed Per Pharmacy" : "الوصفات الطبية التي يتم صرفها لكل صيدلية")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Prescriptions'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Prescriptions</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function NumberOfPrescriptionsDispensedByOrganizationsInstances() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/NumberOfPrescriptionsDispensedByOrganizationsInstances",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container3').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container3', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Prescriptions Dispensed Per Partner" : "الوصفات الطبية التي يتم صرفها لكل شريك")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Prescriptions'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Prescriptions</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function NumberOfPrescriptionsDispensedByBeneficiaryType() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/NumberOfPrescriptionsDispensedByBeneficiaryType",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container14').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab1Container14', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Prescriptions Dispensed Per Beneficiary Type" : "الوصفات الطبية التي يتم صرفها حسب نوع المستفيد")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Prescriptions'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Prescriptions</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function NumberOfPrescriptionsDispensedPerMonths() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/NumberOfPrescriptionsDispensedPerMonths",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container13').removeClass('loadingSpanChart');



                        Highcharts.chart('Tab1Container13', {
                            chart: {
                                type: 'area'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Prescriptions Dispensed Per Month" : "الوصفات الطبية يصرف شهريا")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                categories: categories,
                                tickmarkPlacement: 'on',
                                title: {
                                    enabled: false
                                }
                            },
                            yAxis: {
                                title: {
                                    text: ''
                                },
                                labels: {
                                    formatter: function () {
                                        return this.value / 1000;
                                    }
                                }
                            },
                            tooltip: {
                                split: true,
                                valueSuffix: ''
                            },
                            plotOptions: {
                                area: {
                                    stacking: 'normal',
                                    lineColor: '#666666',
                                    lineWidth: 1,
                                    marker: {
                                        lineWidth: 1,
                                        lineColor: '#666666'
                                    }
                                }
                            },
                            series: Result
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function NumberOfPrescriptionsDiseaseTypePerMonths() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/NumberOfPrescriptionsDiseaseTypePerMonths",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab1Container17').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab1Container17', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Prescriptions Per Month By Disease Type" : "الوصفات الطبية شهريا حسب نوع المرض")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Prescriptions'
                                }
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    pointPadding: 0.2,
                                    borderWidth: 0
                                }
                            },
                            series: Result,
                        });
                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };



            //Items Dispatched
            function DispatchedMedicines() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicines",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var DispatchedQuantity = response["DispatchedQuantity"];
                        var RemainingQuantity = response["RemainingQuantity"];
                        var categories = response["categories"];

                        $('#Tab2Container1').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab2Container1', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "(Dispatched/Remaining) Medicines" : "(مرسلة / متبقية) الأدوية")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Items'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Items</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [DispatchedQuantity,RemainingQuantity]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesByRouteAdministration() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesByRouteAdministration",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container2').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container2', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Per Route Administration" : "الأدوية المرسلة لكل مسار الإدارة")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //  headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesByPharmacologicalForm() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesByPharmacologicalForm",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container3').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container3', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Per Pharmacological Form" : "الأدوية المرسلة حسب النموذج الدوائي")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //  headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container4').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container4', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Per Pharmacy" : "الأدوية المرسلة لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                /// headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesCostByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesCostByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container5').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container5', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Cost Per Pharmacy" : "تكلفة الأدوية المرسلة لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Cost'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        ////format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },
                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesByPartner() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesByPartner",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container6').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container6', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Per Partner" : "الأدوية المرسلة لكل شريك")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function DispatchedMedicinesCostByPartner() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/DispatchedMedicinesCostByPartner",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab2Container7').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab2Container7', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Dispatched Cost Per Partner" : "تكلفة إرسال الأدوية لكل شريك")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Cost'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };

            //Items Transfer
            function TransferMedicinesByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TransferMedicinesByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab3Container1').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab3Container1', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Transfer Medicines Per Pharmacy" : "أدوية التحويل لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                /// headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TransferMedicinesRemainingItemsByPharmacy() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TransferMedicinesRemainingItemsByPharmacy",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var MainReport = response["MainReport"];
                        var DetailsReport = response["DetailsReport"];

                        $('#Tab3Container2').removeClass('loadingSpanChart');

                        Highcharts.chart('Tab3Container2', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Transfer Medicines Remaining Items Per Pharmacy" : "نقل الأدوية العناصر المتبقية لكل صيدلية")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                type: 'category'
                            },
                            yAxis: {
                                title: {
                                    text: 'Total Items'
                                }

                            },
                            legend: {
                                enabled: false
                            },
                            plotOptions: {
                                series: {
                                    borderWidth: 0,
                                    dataLabels: {
                                        enabled: true,
                                        //format: '{point.y:.1f}'
                                    }
                                }
                            },

                            tooltip: {
                                //headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
                            },

                            series: [MainReport],
                            drilldown: { series: DetailsReport }
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };


            // Number Of Beneficiaries
            function TotalNumberOfBeneficiaries() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiaries",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab4Container1').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container1', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Total Number Of Beneficiaries" : "إجمالي عدد المستفيدين")'

                            },
                            subtitle: {
                                text: ''
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Beneficiaries'
                                }
                            },
                            xAxis: {
                                categories: categories,
                                crosshair: true
                            },
                            tooltip: {
                                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                                    '<td style="padding:0"><b>{point.y:.1f} Items</b></td></tr>',
                                footerFormat: '</table>',
                                shared: true,
                                useHTML: true
                            },
                            plotOptions: {
                                column: {
                                    dataLabels: {
                                        enabled: true,
                                    }
                                },
                            },
                            series: [Result]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByGenderPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByGenderPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container2').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container2', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Gender" : "المستفيدون حسب الجنس")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByNationalityPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByNationalityPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container3').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container3', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Nationality" : "المستفيدون حسب الجنسية")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: false
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByAgeGroupPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByAgeGroupPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container4').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container4', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Age Group" : "المستفيدون حسب الفئة العمرية")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByDiseasePercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByDiseasePercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container5').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container5', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Diseases" : "المستفيدون لكل مرض")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByPartnerPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByPartnerPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container6').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container6', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Partners" : "المستفيدون لكل شريك")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiariesByPharmacyPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiariesByPharmacyPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container7').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container7', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Beneficiaries Per Pharmacy" : "المستفيدون لكل صيدلية")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: false
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function BeneficiariesGroupByPrescriptionIterationPercentage() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/BeneficiariesGroupByPrescriptionIterationPercentage",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container8').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container8', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Recurrence Prescriptions by Beneficiaries" : "الوصفات الطبية المتكررة من قبل المستفيدين")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: true
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionMedicinesCostPerMonths2() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionMedicinesPerMonths",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];

                        $('#Tab4Container10').removeClass('loadingSpanChart');



                        Highcharts.chart('Tab4Container10', {
                            chart: {
                                type: 'area'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Month" : "استهلاك الأدوية شهريا")'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                categories: categories,
                                tickmarkPlacement: 'on',
                                title: {
                                    enabled: false
                                }
                            },
                            yAxis: {
                                title: {
                                    text: ''
                                },
                                labels: {
                                    formatter: function () {
                                        return this.value;
                                    }
                                }
                            },
                            tooltip: {
                                split: true,
                                valueSuffix: ''
                            },
                            plotOptions: {
                                area: {
                                    stacking: 'normal',
                                    lineColor: '#666666',
                                    lineWidth: 1,
                                    marker: {
                                        lineWidth: 1,
                                        lineColor: '#666666'
                                    }
                                }
                            },
                            series: Result
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionByCategoriesOfMedicines() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionByCategoriesOfMedicines",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container11').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container11', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Categories" : "استهلاك الأدوية حسب الفئات")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: false,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: false
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ConsumptionByCostOfMedicines() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ConsumptionByCostOfMedicines",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container12').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container12', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Medicines Consumption Per Cost" : "استهلاك الأدوية حسب التكلفة")'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: false,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                        style: {
                                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                        }
                                    },
                                    showInLegend: false
                                }
                            },
                            series: [{
                                name: 'Total',
                                colorByPoint: true,
                                data: Result
                            }]
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function ExpirationDateByPartner() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/ExpirationDateByPartner",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container13').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container13', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Stock Per Expiration Date" : "تاريخ انتهاء الصلاحية المخزون") '
                            },
                            xAxis: {
                                categories: categories
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total'
                                }
                            },
                            tooltip: {
                                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
                                shared: true
                            },
                            plotOptions: {
                                column: {
                                    stacking: 'percent'
                                }
                            },
                            series: Result
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function StagnantItemsByPartner() {
                var form = $('#ReportForm');
                var formData = form.serialize();
                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/StagnantItemsByPartner",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];
                        var categories = response["categories"];
                        $('#Tab4Container14').removeClass('loadingSpanChart');

                        // Create the chart
                        Highcharts.chart('Tab4Container14', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Stagnant Items By Overall Stock" : "العناصر الراكدة حسب المخزون الكلي")'
                            },
                            xAxis: {
                                categories: categories
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total'
                                }
                            },
                            tooltip: {
                                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
                                shared: true
                            },
                            plotOptions: {
                                column: {
                                    stacking: 'percent'
                                }
                            },
                            series: Result
                        });

                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
            function TotalNumberOfBeneficiaryGroupByAge() {
                var form = $('#ReportForm');
                var formData = form.serialize();

                $.ajax({
                    type: "Post",
                    url: "/EMT/Dashboards/TotalNumberOfBeneficiaryGroupByAge",
                    dataType: "json",
                    data: formData,
                    success: function (response) {
                        DecideWhenLoadComplete();
                        var Result = response["Result"];

                        $('#Tab4Container15').removeClass('loadingSpanChart');

                        var ageData = Result;

                        var ranges = [5, 18, 60, 100],
                            rangesLen = ranges.length,
                            series = [];

                        $.each(ranges, function (i, e) {
                            series.push({
                                id: e + 'index',
                                name: e
                            });
                        });

                        $.each(ageData, function (i, e) {
                            var x = e[0],
                                y = e[1],
                                index = 0;

                            while (ranges[index] < x) {
                                index++;
                            }
                            series.push({
                                showInLegend: false,
                                linkedTo: ranges[index] + 'index',
                                data: [[index, y]]
                            })

                        });


                        $('#Tab4Container15').highcharts({
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: '@(Languages.CurrentLanguage()== "EN" ? "Total Number Of Beneficiaries Per Age" : "إجمالي عدد المستفيدين حسب العمر")'
                            },
                            xAxis: {
                                categories: [
                                    '0-5',
                                    '5-17',
                                    '18-59',
                                    '60-100']
                            },
                            legend: {
                                enabled: false
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Total Items'
                                },
                                stackLabels: {
                                    enabled: true,
                                    style: {
                                        fontWeight: 'bold',
                                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
                                    }
                                }
                            },
                            plotOptions: {
                                column: {
                                    stacking: 'normal',
                                    grouping: false,
                                    dataLabels: {
                                        enabled: false,
                                        color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                                        style: {
                                            textShadow: 'black'
                                        }
                                    }
                                }
                            },
                            series: series
                        });
                    },
                    error: function (errorStatus) {
                        DecideWhenLoadComplete();
                    }
                });
            };
</script>
