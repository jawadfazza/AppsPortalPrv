<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="TTTDataSet" targetNamespace="http://tempuri.org/TTTDataSet.xsd" xmlns:mstns="http://tempuri.org/TTTDataSet.xsd" xmlns="http://tempuri.org/TTTDataSet.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="PortalDBConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="PortalDBConnectionString (Web.config)" ParameterPrefix="@" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.PortalDBConnectionString.ConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="CostCenterTableAdapter" GeneratorDataComponentClassName="CostCenterTableAdapter" Name="CostCenter" UserDataComponentName="CostCenterTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="PortalDBConnectionString (Web.config)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>/****** Script for SelectTopNRows command from SSMS  ******/
SELECT    
                           TTT.dataRequisition.REQ_ID ,
				           TTT.dataRequisition.Requestor as Req_Requestor, 
				           TTT.dataRequisition.Item_Description as Req_Item_Description, 
						   TTT.dataRequisition.Orig_Req_Amt as Req_Orig_Req_Amt, 
						   TTT.dataRequisition.Remaining_Amt as Req_Remaining_Amt, 
						   case when TTT.dataRequisition.Total_PO_Amt!=0 then round( (TTT.dataRequisition.Total_PO_Amt/TTT.dataRequisition.Orig_Req_Amt)* 100,1) else 0 end as Req_Persentage,

                          TTT.dataPurchaseOrder.PO_ID as PO_ID,
						   TTT.dataPurchaseOrder.Vendor as Order_Vendor, 

                          TTT.dataPurchaseOrderItem.Buyer as Item_Buyer,
						  TTT.dataPurchaseOrderItem.ItemDescription as Item_ItemDescription,
						  TTT.dataPurchaseOrderItem.Purc_Ord_Amt as Item_Purc_Ord_Amt,
						  TTT.dataPurchaseOrderItem.Remaining_Amt as Item_Remaining_Amt, 
						  (case when ( TTT.dataPurchaseOrderItem.Vouchered_Amt!=0)  then round( (TTT.dataPurchaseOrderItem.Vouchered_Amt/TTT.dataPurchaseOrderItem.Purc_Ord_Amt)* 100 ,1)   else 0 end) as PO_Persentage,

                          TTT.dataPurchaseOrderVoucher.Invoice_Number as Voucher_Invoice_Number,
						  TTT.dataPurchaseOrderVoucher.USD_Amount as Voucher_USD_Amount

FROM           TTT.dataRequisition left outer join  TTT.dataPurchaseOrder  ON 
				(TTT.dataRequisition.RequisitionGUID = TTT.dataPurchaseOrder.RequisitionGUID or TTT.dataPurchaseOrder.RequisitionGUID is null )
				left outer join TTT.dataPurchaseOrderItem  ON TTT.dataPurchaseOrderItem.PurchaseOrderGUID = TTT.dataPurchaseOrder.PurchaseOrderGUID
				left outer join TTT.dataPurchaseOrderVoucher on
				TTT.dataPurchaseOrderVoucher.PurchaseOrderItemGUID = TTT.dataPurchaseOrderItem.PurchaseOrderItemGUID 


WHERE        (TTT.dataRequisition.Active = 1 or TTT.dataRequisition.Active is null) AND 
             (TTT.dataPurchaseOrder.Active = 1 or TTT.dataPurchaseOrder.Active is null ) AND 
             (TTT.dataPurchaseOrderItem.Active = 1 or TTT.dataPurchaseOrderItem.Active is null) AND 
             (TTT.dataPurchaseOrderVoucher.Active = 1 or TTT.dataPurchaseOrderVoucher.Active is null)
 AND (TTT.dataRequisition.PurchasingReportGUID = @PurchasingReportGUID)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="true" AutogeneratedName="PurchasingReportGUID" ColumnName="PurchasingReportGUID" DataSourceName="PortalDB.TTT.dataRequisition" DataTypeServer="uniqueidentifier" DbType="Guid" Direction="Input" ParameterName="@PurchasingReportGUID" Precision="0" ProviderType="UniqueIdentifier" Scale="0" Size="16" SourceColumn="PurchasingReportGUID" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="REQ_ID" DataSetColumn="REQ_ID" />
              <Mapping SourceColumn="Req_Requestor" DataSetColumn="Req_Requestor" />
              <Mapping SourceColumn="Req_Item_Description" DataSetColumn="Req_Item_Description" />
              <Mapping SourceColumn="Req_Orig_Req_Amt" DataSetColumn="Req_Orig_Req_Amt" />
              <Mapping SourceColumn="Req_Remaining_Amt" DataSetColumn="Req_Remaining_Amt" />
              <Mapping SourceColumn="Req_Persentage" DataSetColumn="Req_Persentage" />
              <Mapping SourceColumn="PO_ID" DataSetColumn="PO_ID" />
              <Mapping SourceColumn="Order_Vendor" DataSetColumn="Order_Vendor" />
              <Mapping SourceColumn="Item_Buyer" DataSetColumn="Item_Buyer" />
              <Mapping SourceColumn="Item_ItemDescription" DataSetColumn="Item_ItemDescription" />
              <Mapping SourceColumn="Item_Purc_Ord_Amt" DataSetColumn="Item_Purc_Ord_Amt" />
              <Mapping SourceColumn="Item_Remaining_Amt" DataSetColumn="Item_Remaining_Amt" />
              <Mapping SourceColumn="PO_Persentage" DataSetColumn="PO_Persentage" />
              <Mapping SourceColumn="Voucher_Invoice_Number" DataSetColumn="Voucher_Invoice_Number" />
              <Mapping SourceColumn="Voucher_USD_Amount" DataSetColumn="Voucher_USD_Amount" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="TTTDataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="TTTDataSet" msprop:Generator_UserDSName="TTTDataSet">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="CostCenter" msprop:Generator_TableClassName="CostCenterDataTable" msprop:Generator_TableVarName="tableCostCenter" msprop:Generator_TablePropName="CostCenter" msprop:Generator_RowDeletingName="CostCenterRowDeleting" msprop:Generator_RowChangingName="CostCenterRowChanging" msprop:Generator_RowEvHandlerName="CostCenterRowChangeEventHandler" msprop:Generator_RowDeletedName="CostCenterRowDeleted" msprop:Generator_UserTableName="CostCenter" msprop:Generator_RowChangedName="CostCenterRowChanged" msprop:Generator_RowEvArgName="CostCenterRowChangeEvent" msprop:Generator_RowClassName="CostCenterRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="REQ_ID" msprop:Generator_ColumnVarNameInTable="columnREQ_ID" msprop:Generator_ColumnPropNameInRow="REQ_ID" msprop:Generator_ColumnPropNameInTable="REQ_IDColumn" msprop:Generator_UserColumnName="REQ_ID" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Req_Requestor" msprop:Generator_ColumnVarNameInTable="columnReq_Requestor" msprop:Generator_ColumnPropNameInRow="Req_Requestor" msprop:Generator_ColumnPropNameInTable="Req_RequestorColumn" msprop:Generator_UserColumnName="Req_Requestor" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Req_Item_Description" msprop:Generator_ColumnVarNameInTable="columnReq_Item_Description" msprop:Generator_ColumnPropNameInRow="Req_Item_Description" msprop:Generator_ColumnPropNameInTable="Req_Item_DescriptionColumn" msprop:Generator_UserColumnName="Req_Item_Description" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="100" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Req_Orig_Req_Amt" msprop:Generator_ColumnVarNameInTable="columnReq_Orig_Req_Amt" msprop:Generator_ColumnPropNameInRow="Req_Orig_Req_Amt" msprop:Generator_ColumnPropNameInTable="Req_Orig_Req_AmtColumn" msprop:Generator_UserColumnName="Req_Orig_Req_Amt" type="xs:double" minOccurs="0" />
              <xs:element name="Req_Remaining_Amt" msprop:Generator_ColumnVarNameInTable="columnReq_Remaining_Amt" msprop:Generator_ColumnPropNameInRow="Req_Remaining_Amt" msprop:Generator_ColumnPropNameInTable="Req_Remaining_AmtColumn" msprop:Generator_UserColumnName="Req_Remaining_Amt" type="xs:double" minOccurs="0" />
              <xs:element name="Req_Persentage" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnReq_Persentage" msprop:Generator_ColumnPropNameInRow="Req_Persentage" msprop:Generator_ColumnPropNameInTable="Req_PersentageColumn" msprop:Generator_UserColumnName="Req_Persentage" type="xs:double" minOccurs="0" />
              <xs:element name="PO_ID" msprop:Generator_ColumnVarNameInTable="columnPO_ID" msprop:Generator_ColumnPropNameInRow="PO_ID" msprop:Generator_ColumnPropNameInTable="PO_IDColumn" msprop:Generator_UserColumnName="PO_ID" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Order_Vendor" msprop:Generator_ColumnVarNameInTable="columnOrder_Vendor" msprop:Generator_ColumnPropNameInRow="Order_Vendor" msprop:Generator_ColumnPropNameInTable="Order_VendorColumn" msprop:Generator_UserColumnName="Order_Vendor" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Item_Buyer" msprop:Generator_ColumnVarNameInTable="columnItem_Buyer" msprop:Generator_ColumnPropNameInRow="Item_Buyer" msprop:Generator_ColumnPropNameInTable="Item_BuyerColumn" msprop:Generator_UserColumnName="Item_Buyer" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Item_ItemDescription" msprop:Generator_ColumnVarNameInTable="columnItem_ItemDescription" msprop:Generator_ColumnPropNameInRow="Item_ItemDescription" msprop:Generator_ColumnPropNameInTable="Item_ItemDescriptionColumn" msprop:Generator_UserColumnName="Item_ItemDescription" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Item_Purc_Ord_Amt" msprop:Generator_ColumnVarNameInTable="columnItem_Purc_Ord_Amt" msprop:Generator_ColumnPropNameInRow="Item_Purc_Ord_Amt" msprop:Generator_ColumnPropNameInTable="Item_Purc_Ord_AmtColumn" msprop:Generator_UserColumnName="Item_Purc_Ord_Amt" type="xs:double" minOccurs="0" />
              <xs:element name="Item_Remaining_Amt" msprop:Generator_ColumnVarNameInTable="columnItem_Remaining_Amt" msprop:Generator_ColumnPropNameInRow="Item_Remaining_Amt" msprop:Generator_ColumnPropNameInTable="Item_Remaining_AmtColumn" msprop:Generator_UserColumnName="Item_Remaining_Amt" type="xs:double" minOccurs="0" />
              <xs:element name="PO_Persentage" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnPO_Persentage" msprop:Generator_ColumnPropNameInRow="PO_Persentage" msprop:Generator_ColumnPropNameInTable="PO_PersentageColumn" msprop:Generator_UserColumnName="PO_Persentage" type="xs:double" minOccurs="0" />
              <xs:element name="Voucher_Invoice_Number" msprop:Generator_ColumnVarNameInTable="columnVoucher_Invoice_Number" msprop:Generator_ColumnPropNameInRow="Voucher_Invoice_Number" msprop:Generator_ColumnPropNameInTable="Voucher_Invoice_NumberColumn" msprop:Generator_UserColumnName="Voucher_Invoice_Number" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Voucher_USD_Amount" msprop:Generator_ColumnVarNameInTable="columnVoucher_USD_Amount" msprop:Generator_ColumnPropNameInRow="Voucher_USD_Amount" msprop:Generator_ColumnPropNameInTable="Voucher_USD_AmountColumn" msprop:Generator_UserColumnName="Voucher_USD_Amount" type="xs:double" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
  </xs:element>
</xs:schema>